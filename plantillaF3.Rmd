---
title: "Precio de la vivienda en Boston"
author: 
- David Moreno, Santiago Amado, Yodid Cardenas

- Maestría en Ciencia de Datos

- Modelos Estadísticos Aplicados

date: "6/Oct/2024"
output: ioslides_presentation
---
```{r setup, include=FALSE}
library(knitr)
library(dplyr)
library(readxl)
library(kableExtra)
library(ggplot2)
# URL actualizada del archivo en GitHub
url <- "https://raw.githubusercontent.com/jamadom07683/ModelosEstadisticas_Fase3/main/BostonHousing.xlsx"
# Crear un archivo temporal donde descargar el Excel
temp_file <- tempfile(fileext = ".xlsx")
download.file(url, temp_file, mode = "wb")

# Leer datos segunda hoja
boston_data <- read_excel(temp_file, sheet = 2)

```


```{r setup2, include=FALSE}
knitr::opts_chunk$set(
	echo = FALSE,
	message = FALSE,
	warning = FALSE
)
```


## 

El archivo BostonHousing contiene información recopilada por la Oficina del Censo de EE. UU. sobre viviendas en el área de Boston, Massachusetts. El conjunto de datos incluye información sobre 506 áreas de vivienda del censo en el área de Boston. El objetivo es identificar diferencias entre inmuebles y predecir el precio medio de la vivienda en nuevas áreas, teniendo en cuenta las condiciones del sector. El conjunto de datos contiene 14 predictores y la respuesta es el precio medio de la vivienda. En la siguiente tabla se describen las variables del conjunto de datos.

 
## Variables del conjunto de datos. 

```{r}
# Agregar las descripciones de las variables
variable_descriptions <- data.frame(
  Variable = c("CRIM", "ZN", "INDUS", "CHAS", "NOX", "RM", "AGE", "DIS", "RAD", "TAX", "PTRATIO", "LSTAT", "MEDV", "CAT.MEDV"),
  Descripción = c("Tasa de delincuencia per cápita por zona",
                  "Proporción de suelo residencial dividido en zonas (lotes de más de 25,000 pies cuadrados)",
                  "Proporción de acres comerciales no minoristas por zona",
                  "Limitaciones con el río Charles (1 si el tramo limita con el río, 0 en caso contrario)",
                  "Concentración de óxidos nítricos (partes por millón)",
                  "Número medio de habitaciones por vivienda",
                  "Proporción de unidades ocupadas por el propietario y construidas antes de 1940",
                  "Distancias ponderadas a cinco centros de empleo de Boston",
                  "Índice de accesibilidad a carreteras radiales",
                  "Tasa de impuesto a la propiedad por $10,000",
                  "Proporción alumno/profesor por zona",
                  "Porcentaje de la población con menor estatus social",
                  "Valor medio de las viviendas ocupadas por sus propietarios (en miles de dólares)",
                  "Valor medio superior o igual a 30 mil dólares (1 si es superior, 0 en otro caso)")
)

# Mostrar la tabla con ajuste de ancho y colores
kable(variable_descriptions, col.names = c("Variable", "Descripción")) %>%
  kable_styling(full_width = TRUE, font_size = 11) %>%
  row_spec(0, bold = TRUE, color = "white", background = "#0073C2") %>% # Encabezado en azul
  row_spec(1:nrow(variable_descriptions), background = "#F0F8FF") # Filas en un azul claro

```

```{r, include=FALSE}
# Convertir las variables cualitativas a tipo carácter
boston_data$CHAS <- as.character(boston_data$CHAS)
boston_data$RAD <- as.character(boston_data$RAD)
boston_data$`CAT. MEDV` <- as.character(boston_data$`CAT. MEDV`)
```
## Análisis de Vivienda

```{r, include=FALSE}
# Convertir CAT. MEDV a factor si no lo está
boston_data$`CAT. MEDV` <- as.factor(boston_data$`CAT. MEDV`)

# Renombrar niveles para mayor claridad
levels(boston_data$`CAT. MEDV`) <- c("Menor_30k", "Mayor_30k")

# Resumen de la tasa de delincuencia (CRIM) y el número de habitaciones (RM) por grupo
summary_stats <- boston_data %>%
  group_by(`CAT. MEDV`) %>%
  summarise(
    Promedio_CRIM = mean(CRIM, na.rm = TRUE),
    SD_CRIM = sd(CRIM, na.rm = TRUE),
    Promedio_RM = mean(RM, na.rm = TRUE),
    SD_RM = sd(RM, na.rm = TRUE)
  )

summary_stats

# Prueba t para CRIM
t_test_crim <- t.test(CRIM ~ `CAT. MEDV`, data = boston_data)
t_test_crim

# Prueba t para RM
t_test_rm <- t.test(RM ~ `CAT. MEDV`, data = boston_data)
t_test_rm
```
### Tasa de delicuencia por valor de la vivienda
```{r}
# Boxplot para CRIM
ggplot(boston_data, aes(x = `CAT. MEDV`, y = CRIM, fill = `CAT. MEDV`)) +
  geom_boxplot() +
  labs(title = "Tasa de delincuencia por zona (CRIM) según el valor de la vivienda",
       x = "Categoría del valor medio de la vivienda",
       y = "Tasa de delincuencia per cápita (CRIM)") +
  theme_minimal()
```

## Número Medio de Habitaciones por Valor de la Vivienda
```{r}
# Boxplot para RM
ggplot(boston_data, aes(x = `CAT. MEDV`, y = RM, fill = `CAT. MEDV`)) +
  geom_boxplot() +
  labs(title = "Número medio de habitaciones (RM) según el valor de la vivienda",
       x = "Categoría del valor medio de la vivienda",
       y = "Número medio de habitaciones (RM)") +
  theme_minimal()
```

## Referencias.
 
Por favor colocar las referencias en normas APA.  

+ Referencia 1
+ Referencia 2.
 
